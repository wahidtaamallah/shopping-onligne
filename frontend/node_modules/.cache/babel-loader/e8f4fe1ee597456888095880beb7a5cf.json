{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\21620\\\\Desktop\\\\Sports t-shirts\\\\frontend\\\\src\\\\components\\\\pages\\\\profile\\\\Profile.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getUserProfile, updateUserProfile } from 'store/user/actions';\nimport { getUserOrders } from 'store/user-orders/action';\nimport { Spinner } from 'components/shared';\nimport ProfileOrders from './ProfileOrders';\nimport ProfileDetails from './ProfileDetails';\n\nconst Profile = ({\n  loading,\n  user,\n  error,\n  profile,\n  getUserProfile,\n  updateUserProfile,\n  success,\n  getUserOrders,\n  userOrders,\n  userOrdersLoading,\n  userOrdersError\n}) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(null);\n  const history = useHistory();\n  useEffect(() => {\n    if (!user) {\n      history.push('/signin');\n    } else {\n      if (!profile.name) {\n        getUserProfile('profile');\n        getUserOrders();\n      } else {\n        setName(profile.name);\n        setEmail(profile.email);\n      }\n    }\n  }, [user, history, profile, getUserProfile, getUserOrders]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (password !== confirmPassword) setMessage('Passwords do not match!');else updateUserProfile({\n      id: profile._id,\n      name,\n      email,\n      password\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, loading || userOrdersLoading ? /*#__PURE__*/React.createElement(Spinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ProfileDetails, {\n    name: name,\n    email: email,\n    password: password,\n    confirmPassword: confirmPassword,\n    setName: setName,\n    setEmail: setEmail,\n    setPassword: setPassword,\n    setConfirmPassword: setConfirmPassword,\n    onSubmit: onSubmit,\n    error: error,\n    message: message,\n    success: success,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ProfileOrders, {\n    userOrders: userOrders,\n    error: userOrdersError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }))));\n};\n\nconst mapStateToProps = state => ({\n  user: state.userApp.user,\n  profile: state.userApp.profile,\n  error: state.userApp.error,\n  loading: state.userApp.loading,\n  success: state.userApp.success,\n  userOrdersError: state.userOrdersApp.error,\n  userOrdersLoading: state.userOrdersApp.loading,\n  userOrders: state.userOrdersApp.userOrders\n});\n\nconst mapDispatchToProps = {\n  getUserProfile,\n  updateUserProfile,\n  getUserOrders\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["C:/Users/21620/Desktop/Sports t-shirts/frontend/src/components/pages/profile/Profile.jsx"],"names":["React","useState","useEffect","useHistory","connect","getUserProfile","updateUserProfile","getUserOrders","Spinner","ProfileOrders","ProfileDetails","Profile","loading","user","error","profile","success","userOrders","userOrdersLoading","userOrdersError","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","history","push","onSubmit","e","preventDefault","id","_id","mapStateToProps","state","userApp","userOrdersApp","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getUserProfile, updateUserProfile } from 'store/user/actions';\nimport { getUserOrders } from 'store/user-orders/action';\n\nimport { Spinner } from 'components/shared';\nimport ProfileOrders from './ProfileOrders';\nimport ProfileDetails from './ProfileDetails';\n\nconst Profile = ({\n  loading,\n  user,\n  error,\n  profile,\n  getUserProfile,\n  updateUserProfile,\n  success,\n  getUserOrders,\n  userOrders,\n  userOrdersLoading,\n  userOrdersError,\n}) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!user) {\n      history.push('/signin');\n    } else {\n      if (!profile.name) {\n        getUserProfile('profile');\n        getUserOrders();\n      } else {\n        setName(profile.name);\n        setEmail(profile.email);\n      }\n    }\n  }, [user, history, profile, getUserProfile, getUserOrders]);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password !== confirmPassword) setMessage('Passwords do not match!');\n    else updateUserProfile({ id: profile._id, name, email, password });\n  };\n\n  return (\n    <>\n      {loading || userOrdersLoading ? (\n        <Spinner />\n      ) : (\n        <>\n          <div className='profile'>\n            <ProfileDetails\n              name={name}\n              email={email}\n              password={password}\n              confirmPassword={confirmPassword}\n              setName={setName}\n              setEmail={setEmail}\n              setPassword={setPassword}\n              setConfirmPassword={setConfirmPassword}\n              onSubmit={onSubmit}\n              error={error}\n              message={message}\n              success={success}\n              user={user}\n            />\n            <ProfileOrders userOrders={userOrders} error={userOrdersError} />\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.userApp.user,\n  profile: state.userApp.profile,\n  error: state.userApp.error,\n  loading: state.userApp.loading,\n  success: state.userApp.success,\n  userOrdersError: state.userOrdersApp.error,\n  userOrdersLoading: state.userOrdersApp.loading,\n  userOrders: state.userOrdersApp.userOrders,\n});\n\nconst mapDispatchToProps = {\n  getUserProfile,\n  updateUserProfile,\n  getUserOrders,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);\n"]},"metadata":{},"sourceType":"module"}